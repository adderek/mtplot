{"version":3,"file":"mtplot.js","sources":["../src/renderers/SVGRenderer.ts","../src/patterns/LowValueDetector.ts","../src/patterns/StagnationDetector.ts","../src/utils/Statistics.ts","../src/utils/DateUtils.ts","../src/MTPlot.ts"],"sourcesContent":["import { TextOptions } from '../types';\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\n\ninterface SVGRendererOptions {\n  highContrast?: boolean;\n  interactive?: boolean;\n  tooltip?: string;\n}\n\nexport class SVGRenderer {\n  private svg: SVGSVGElement;\n  private defs: SVGDefsElement;\n  private mainGroup: SVGGElement;\n  private width: number;\n  private height: number;\n  private tooltip: SVGTextElement;\n  private tooltipBackground: SVGRectElement;\n\n  constructor(container: HTMLElement, width: number, height: number) {\n    this.width = width;\n    this.height = height;\n    this.svg = document.createElementNS(SVG_NS, 'svg');\n    this.svg.setAttribute('width', width.toString());\n    this.svg.setAttribute('height', height.toString());\n    this.svg.setAttribute('class', 'mtplot-svg');\n    \n    // Create defs for gradients and patterns\n    this.defs = document.createElementNS(SVG_NS, 'defs');\n    this.svg.appendChild(this.defs);\n    \n    // Create main group for transformation\n    this.mainGroup = document.createElementNS(SVG_NS, 'g');\n    this.svg.appendChild(this.mainGroup);\n\n    // Create tooltip elements\n    this.tooltipBackground = document.createElementNS(SVG_NS, 'rect');\n    this.tooltipBackground.setAttribute('class', 'mtplot-tooltip-bg');\n    this.tooltipBackground.setAttribute('rx', '4');\n    this.tooltipBackground.setAttribute('ry', '4');\n    this.tooltipBackground.setAttribute('fill', 'white');\n    this.tooltipBackground.setAttribute('stroke', '#ccc');\n    this.tooltipBackground.style.display = 'none';\n    \n    this.tooltip = document.createElementNS(SVG_NS, 'text');\n    this.tooltip.setAttribute('class', 'mtplot-tooltip');\n    this.tooltip.style.display = 'none';\n    \n    this.svg.appendChild(this.tooltipBackground);\n    this.svg.appendChild(this.tooltip);\n    \n    this.setupSVG(container, width, height);\n    \n    // Setup pan and zoom handling\n    this.setupInteraction();\n  }\n\n  private setupSVG(container: HTMLElement, width: number, height: number): void {\n    const attributes = [\n      ['version', '1.1'],\n      ['viewBox', `0 0 ${width} ${height}`],\n      ['preserveAspectRatio', 'none'],\n      ['style', 'width: 100%; height: 100%;']\n    ];\n\n    attributes.forEach(([name, value]) => {\n      this.svg.setAttribute(name, value);\n    });\n\n    container.appendChild(this.svg);\n  }\n\n  private setupInteraction(): void {\n    let isPanning = false;\n    let startX = 0;\n    let startY = 0;\n    let currentTransform = { x: 0, y: 0, scale: 1 };\n\n    this.svg.addEventListener('mousedown', (e: MouseEvent) => {\n      isPanning = true;\n      startX = e.clientX;\n      startY = e.clientY;\n    });\n\n    this.svg.addEventListener('mousemove', (e: MouseEvent) => {\n      if (!isPanning) return;\n      const dx = e.clientX - startX;\n      const dy = e.clientY - startY;\n      currentTransform.x += dx;\n      currentTransform.y += dy;\n      startX = e.clientX;\n      startY = e.clientY;\n      this.updateTransform(currentTransform);\n    });\n\n    this.svg.addEventListener('mouseup', () => {\n      isPanning = false;\n    });\n\n    this.svg.addEventListener('wheel', (e: WheelEvent) => {\n      e.preventDefault();\n      const scaleFactor = e.deltaY > 0 ? 0.9 : 1.1;\n      currentTransform.scale *= scaleFactor;\n      this.updateTransform(currentTransform);\n    });\n  }\n\n  private updateTransform(transform: { x: number; y: number; scale: number }): void {\n    this.mainGroup.setAttribute(\n      'transform',\n      `translate(${transform.x},${transform.y}) scale(${transform.scale})`\n    );\n  }\n\n  public resize(width: number, height: number): void {\n    this.width = width;\n    this.height = height;\n    this.svg.setAttribute('width', width.toString());\n    this.svg.setAttribute('height', height.toString());\n    this.svg.setAttribute('viewBox', `0 0 ${width} ${height}`);\n  }\n\n  public clear(): void {\n    while (this.mainGroup.firstChild) {\n      this.mainGroup.removeChild(this.mainGroup.firstChild);\n    }\n  }\n\n  public drawBar(\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    color: string,\n    options: SVGRendererOptions = {}\n  ): void {\n    const rect = document.createElementNS(SVG_NS, 'rect');\n    rect.setAttribute('x', x.toString());\n    rect.setAttribute('y', y.toString());\n    rect.setAttribute('width', width.toString());\n    rect.setAttribute('height', height.toString());\n    \n    if (options.highContrast) {\n      rect.setAttribute('fill', this.getHighContrastColor(color));\n      rect.setAttribute('stroke', 'black');\n      rect.setAttribute('stroke-width', '2');\n    } else {\n      rect.setAttribute('fill', color);\n    }\n\n    if (options.interactive) {\n      rect.setAttribute('data-tooltip', options.tooltip || '');\n      rect.style.cursor = 'pointer';\n      this.setupBarInteraction(rect);\n    }\n\n    this.mainGroup.appendChild(rect);\n  }\n\n  private getHighContrastColor(color: string): string {\n    // Convert to high contrast version of the color\n    const rgb = this.hexToRgb(color);\n    if (!rgb) return color;\n    \n    const brightness = (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    return brightness > 128 ? '#000000' : '#FFFFFF';\n  }\n\n  private hexToRgb(hex: string): { r: number; g: number; b: number } | null {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    } : null;\n  }\n\n  private setupBarInteraction(element: SVGElement): void {\n    element.addEventListener('mouseenter', (e: MouseEvent) => {\n      const tooltip = element.getAttribute('data-tooltip');\n      if (tooltip) {\n        this.showTooltip(tooltip, e.clientX, e.clientY);\n      }\n    });\n\n    element.addEventListener('mouseleave', () => {\n      this.hideTooltip();\n    });\n  }\n\n  public showTooltip(text: string, x: number, y: number): void {\n    // Join text lines with a space\n    const combinedText = text.split('\\n').join(' ');\n    \n    // Clear previous tooltip content\n    while (this.tooltip.firstChild) {\n      this.tooltip.removeChild(this.tooltip.firstChild);\n    }\n    \n    // Add single tspan element with combined text\n    const tspan = document.createElementNS(SVG_NS, 'tspan');\n    tspan.textContent = combinedText;\n    tspan.setAttribute('x', '0');\n    this.tooltip.appendChild(tspan);\n    \n    // Calculate tooltip dimensions\n    const bbox = this.tooltip.getBBox();\n    const padding = 8;\n    const tooltipWidth = bbox.width + 2 * padding;\n    const tooltipHeight = bbox.height + 2 * padding;\n    \n    // Position the text vertically centered with padding\n    tspan.setAttribute('y', (padding + bbox.height).toString());\n    \n    // Calculate position that keeps tooltip within bounds\n    let tooltipX = x + 10; // Default offset from cursor\n    let tooltipY = y - tooltipHeight - 10; // Default position above cursor\n    \n    // Adjust horizontal position if tooltip would go outside right edge\n    if (tooltipX + tooltipWidth > this.width) {\n      tooltipX = x - tooltipWidth - 10; // Place tooltip to the left of cursor\n    }\n    \n    // Adjust vertical position if tooltip would go outside top edge\n    if (tooltipY < 0) {\n      tooltipY = y + 20; // Place tooltip below cursor\n    }\n    \n    // Ensure tooltip doesn't go outside left or bottom edges\n    tooltipX = Math.max(5, Math.min(this.width - tooltipWidth - 5, tooltipX));\n    tooltipY = Math.max(5, Math.min(this.height - tooltipHeight - 5, tooltipY));\n    \n    // Position the tooltip and background\n    this.tooltip.setAttribute('transform', `translate(${tooltipX}, ${tooltipY})`);\n    this.tooltipBackground.setAttribute('x', tooltipX.toString());\n    this.tooltipBackground.setAttribute('y', tooltipY.toString());\n    this.tooltipBackground.setAttribute('width', tooltipWidth.toString());\n    this.tooltipBackground.setAttribute('height', tooltipHeight.toString());\n    \n    // Show the tooltip\n    this.tooltipBackground.style.display = '';\n    this.tooltip.style.display = '';\n  }\n\n  public hideTooltip(): void {\n    this.tooltipBackground.style.display = 'none';\n    this.tooltip.style.display = 'none';\n  }\n\n  public drawPattern(\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    color: string,\n    patternType?: string\n  ): void {\n    const pattern = document.createElementNS(SVG_NS, 'rect');\n    pattern.setAttribute('x', x.toString());\n    pattern.setAttribute('y', y.toString());\n    pattern.setAttribute('width', width.toString());\n    pattern.setAttribute('height', height.toString());\n    pattern.setAttribute('fill', color);\n    pattern.setAttribute('fill-opacity', '0.3');\n    \n    // Add pattern-specific styling\n    if (patternType) {\n      switch (patternType) {\n        case 'lowValue':\n          pattern.setAttribute('stroke', 'red');\n          pattern.setAttribute('stroke-dasharray', '4,4');\n          break;\n        case 'stagnation':\n          pattern.setAttribute('stroke', 'orange');\n          pattern.setAttribute('stroke-width', '2');\n          break;\n      }\n    }\n\n    this.mainGroup.appendChild(pattern);\n  }\n\n  public drawText(x: number, y: number, text: string, options: TextOptions = {}): void {\n    const textElem = document.createElementNS(SVG_NS, 'text');\n    const attrs = [\n      ['x', x.toString()],\n      ['y', y.toString()],\n      ['fill', options.color || 'black'],\n      ['font-family', options.fontFamily || 'monospace'],\n      ['font-size', (options.fontSize || 12).toString()]\n    ];\n\n    if (options.stroke) {\n      attrs.push(['stroke', options.stroke]);\n      attrs.push(['stroke-width', (options.strokeWidth || 1).toString()]);\n    }\n\n    attrs.forEach(([name, value]) => textElem.setAttribute(name, value));\n    textElem.textContent = text;\n    this.mainGroup.appendChild(textElem);\n  }\n\n  public getSVGElement(): SVGSVGElement {\n    return this.svg;\n  }\n}\n","import { DataPoint, LowValueOptions } from '../types';\n\nexport class LowValueDetector {\n  private threshold: number;\n  private consecutiveDays: number;\n\n  constructor(options: LowValueOptions) {\n    this.threshold = options.threshold;\n    this.consecutiveDays = options.consecutiveDays;\n  }\n\n  findPatterns(data: DataPoint[]): { start: number; end: number }[] {\n    if (data.length < this.consecutiveDays) return [];\n\n    const patterns: { start: number; end: number }[] = [];\n    const valueRange = this.calculateValueRange(data);\n    const lowThreshold = Math.min(...data.map(d => d.y)) + (valueRange * this.threshold);\n\n    let currentSequence: number[] = [];\n\n    data.forEach((point, index) => {\n      if (point.y <= lowThreshold) {\n        currentSequence.push(index);\n      } else {\n        if (this.isValidSequence(currentSequence, data)) {\n          patterns.push({\n            start: currentSequence[0],\n            end: currentSequence[currentSequence.length - 1]\n          });\n        }\n        currentSequence = [];\n      }\n    });\n\n    // Check last sequence\n    if (this.isValidSequence(currentSequence, data)) {\n      patterns.push({\n        start: currentSequence[0],\n        end: currentSequence[currentSequence.length - 1]\n      });\n    }\n\n    return patterns;\n  }\n\n  private calculateValueRange(data: DataPoint[]): number {\n    const values = data.map(d => d.y);\n    return Math.max(...values) - Math.min(...values);\n  }\n\n  private isValidSequence(sequence: number[], data: DataPoint[]): boolean {\n    if (sequence.length < this.consecutiveDays) return false;\n\n    // Check if points are consecutive days\n    for (let i = 1; i < sequence.length; i++) {\n      const daysDiff = (data[sequence[i]].x.valueOf() - data[sequence[i-1]].x.valueOf()) / (24 * 60 * 60 * 1000);\n      if (daysDiff > 1.1) return false; // Allow small tolerance\n    }\n\n    return true;\n  }\n}\n","import { DataPoint, StagnationOptions } from '../types';\n\nexport class StagnationDetector {\n  private consecutiveDays: number;\n  private changeThreshold: number;\n  private activeChangePercentage: number;\n\n  constructor(options: StagnationOptions) {\n    this.consecutiveDays = options.consecutiveDays;\n    this.changeThreshold = options.changeThreshold;\n    this.activeChangePercentage = options.activeChangePercentage;\n  }\n\n  findPatterns(data: DataPoint[]): { start: number; end: number }[] {\n    if (data.length < this.consecutiveDays) return [];\n\n    const patterns: { start: number; end: number }[] = [];\n    const avgDailyChange = this.calculateAverageChange(data);\n    \n    if (!this.hasEnoughActiveChanges(data, avgDailyChange)) {\n      return [];\n    }\n\n    let currentSequence: number[] = [];\n    const significantChangeThreshold = avgDailyChange * this.changeThreshold;\n\n    data.forEach((point, index) => {\n      currentSequence.push(index);\n\n      if (index === data.length - 1 || \n          Math.abs(data[index + 1].y - point.y) > significantChangeThreshold) {\n        if (this.isStagnationPeriod(currentSequence, data, significantChangeThreshold)) {\n          patterns.push({\n            start: currentSequence[0],\n            end: currentSequence[currentSequence.length - 1]\n          });\n        }\n        currentSequence = [];\n      }\n    });\n\n    return patterns;\n  }\n\n  private calculateAverageChange(data: DataPoint[]): number {\n    if (data.length < 2) return 0;\n\n    let totalChange = 0;\n    let changes = 0;\n\n    for (let i = 1; i < data.length; i++) {\n      const change = Math.abs(data[i].y - data[i-1].y);\n      if (change > 0) {\n        totalChange += change;\n        changes++;\n      }\n    }\n\n    return changes > 0 ? totalChange / changes : 0;\n  }\n\n  private hasEnoughActiveChanges(data: DataPoint[], avgDailyChange: number): boolean {\n    if (data.length < 2) return false;\n\n    let significantChanges = 0;\n    const significantChangeThreshold = avgDailyChange * this.changeThreshold;\n\n    for (let i = 1; i < data.length; i++) {\n      const change = Math.abs(data[i].y - data[i-1].y);\n      if (change > significantChangeThreshold) {\n        significantChanges++;\n      }\n    }\n\n    return (significantChanges / (data.length - 1)) >= this.activeChangePercentage;\n  }\n\n  private isStagnationPeriod(\n    sequence: number[], \n    data: DataPoint[], \n    significantChangeThreshold: number\n  ): boolean {\n    if (sequence.length < this.consecutiveDays) return false;\n\n    // Check if points are consecutive days\n    for (let i = 1; i < sequence.length; i++) {\n      const daysDiff = (data[sequence[i]].x.valueOf() - data[sequence[i-1]].x.valueOf()) / (24 * 60 * 60 * 1000);\n      if (daysDiff > 1.1) return false;\n    }\n\n    // Check if changes are below threshold\n    for (let i = 1; i < sequence.length; i++) {\n      const change = Math.abs(data[sequence[i]].y - data[sequence[i-1]].y);\n      if (change > significantChangeThreshold) return false;\n    }\n\n    return true;\n  }\n}\n","export function calculateMean(values: number[]): number {\n  if (values.length === 0) return 0;\n  return values.reduce((sum, val) => sum + val, 0) / values.length;\n}\n\nexport function calculateMedian(values: number[]): number {\n  if (values.length === 0) return 0;\n  \n  const sorted = [...values].sort((a, b) => a - b);\n  const middle = Math.floor(sorted.length / 2);\n  \n  if (sorted.length % 2 === 0) {\n    return (sorted[middle - 1] + sorted[middle]) / 2;\n  }\n  return sorted[middle];\n}\n\nexport function calculateStandardDeviation(values: number[]): number {\n  if (values.length < 2) return 0;\n  \n  const mean = calculateMean(values);\n  const squaredDiffs = values.map(val => Math.pow(val - mean, 2));\n  const variance = calculateMean(squaredDiffs);\n  \n  return Math.sqrt(variance);\n}\n\nexport function calculatePercentile(values: number[], percentile: number): number {\n  if (values.length === 0) return 0;\n  if (percentile < 0 || percentile > 100) throw new Error('Percentile must be between 0 and 100');\n  \n  const sorted = [...values].sort((a, b) => a - b);\n  const index = (percentile / 100) * (sorted.length - 1);\n  const lower = Math.floor(index);\n  const upper = Math.ceil(index);\n  \n  if (lower === upper) return sorted[lower];\n  \n  const fraction = index - lower;\n  return sorted[lower] * (1 - fraction) + sorted[upper] * fraction;\n}\n\nexport function calculateMovingAverage(values: number[], window: number): number[] {\n  if (window < 1 || window > values.length) return values;\n  \n  const result: number[] = [];\n  for (let i = 0; i < values.length - window + 1; i++) {\n    const windowValues = values.slice(i, i + window);\n    result.push(calculateMean(windowValues));\n  }\n  \n  return result;\n}\n","export function isConsecutiveDays(date1: Date, date2: Date, tolerance: number = 1.1): boolean {\n  const daysDiff = (date2.valueOf() - date1.valueOf()) / (24 * 60 * 60 * 1000);\n  return daysDiff <= tolerance;\n}\n\nexport function formatDate(date: Date): string {\n  return date.toISOString();\n}\n\nexport function getDateRange(dates: Date[]): { min: Date; max: Date } {\n  return {\n    min: new Date(Math.min(...dates.map(d => d.valueOf()))),\n    max: new Date(Math.max(...dates.map(d => d.valueOf())))\n  };\n}\n","import { SVGRenderer } from './renderers/SVGRenderer';\nimport { LowValueDetector } from './patterns/LowValueDetector';\nimport { StagnationDetector } from './patterns/StagnationDetector';\nimport { DataPoint, PlotOptions, Theme, PatternDetectionOptions } from './types';\nimport { calculateMean, calculateMedian, calculateMovingAverage } from './utils/Statistics';\nimport { formatDate } from './utils/DateUtils';\n\nconst DEFAULT_THEME: Theme = {\n  barColor: 'black',\n  barHoverColor: 'blue',\n  lowValueColor: 'rgba(255,0,0,0.2)',\n  stagnationColor: 'rgba(255,165,0,0.2)',\n  backgroundColor: 'white',\n  textColor: 'black',\n  fontFamily: 'monospace',\n  fontSize: 12\n};\n\nconst DEFAULT_OPTIONS: PlotOptions = {\n  width: 800,\n  height: 400,\n  theme: DEFAULT_THEME,\n  patterns: {\n    lowValue: {\n      threshold: 0.02,\n      consecutiveDays: 2\n    },\n    stagnation: {\n      consecutiveDays: 3,\n      changeThreshold: 0.2,\n      activeChangePercentage: 0.85\n    }\n  },\n  responsive: true,\n  accessibility: {\n    enableKeyboardNavigation: true,\n    enableScreenReader: true,\n    highContrast: false,\n    ariaLabel: 'Time series chart'\n  },\n  interaction: {\n    enableZoom: true,\n    enablePan: true,\n    tooltipFormat: (point: DataPoint) => `${formatDate(point.x)}: ${point.y}`,\n    onPointClick: undefined\n  },\n  performance: {\n    enableVirtualization: true,\n    clusteringThreshold: 1000,\n    useWebWorker: true\n  }\n};\n\nexport class MTPlot {\n  private container: HTMLElement;\n  private renderer: SVGRenderer;\n  private options: PlotOptions;\n  private data: DataPoint[];\n  private lowValueDetector: LowValueDetector;\n  private stagnationDetector: StagnationDetector;\n  private isDirty: boolean = false;\n  private updateTimeout: number | null = null;\n  private refreshDelay: number = 100;\n  private resizeObserver: ResizeObserver | null = null;\n  private tooltip: HTMLDivElement | null = null;\n  private worker: Worker | null = null;\n  private zoom: { scale: number; offset: { x: number; y: number } } = {\n    scale: 1,\n    offset: { x: 0, y: 0 }\n  };\n\n  constructor(containerId: string, initialData: DataPoint[] = [], options: Partial<PlotOptions> = {}) {\n    const container = document.getElementById(containerId);\n    if (!container) throw new Error(`No element found with id: ${containerId}`);\n    \n    this.container = container;\n    this.options = { ...DEFAULT_OPTIONS, ...options };\n    \n    // Initialize tooltip\n    this.setupTooltip();\n    \n    // Initialize WebWorker if enabled\n    if (this.options.performance?.useWebWorker) {\n      this.setupWebWorker();\n    }\n    \n    // Initialize renderer with responsive support\n    this.renderer = new SVGRenderer(\n      container,\n      this.getWidth(),\n      this.getHeight()\n    );\n\n    // Set up accessibility\n    if (this.options.accessibility?.enableScreenReader) {\n      this.setupAccessibility();\n    }\n\n    // Initialize data with sorting and clustering if needed\n    this.data = this.processInitialData(initialData);\n    \n    this.lowValueDetector = new LowValueDetector(this.options.patterns!.lowValue!);\n    this.stagnationDetector = new StagnationDetector(this.options.patterns!.stagnation!);\n\n    // Set up event listeners\n    this.setupEventListeners();\n    \n    // Set up responsive handling\n    if (this.options.responsive) {\n      this.setupResponsive();\n    }\n\n    this.update();\n  }\n\n  private setupTooltip(): void {\n    this.tooltip = document.createElement('div');\n    this.tooltip.style.cssText = `\n      position: absolute;\n      display: none;\n      background: white;\n      border: 1px solid #ccc;\n      padding: 8px;\n      border-radius: 4px;\n      pointer-events: none;\n      z-index: 1000;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    `;\n    document.body.appendChild(this.tooltip);\n  }\n\n  private setupWebWorker(): void {\n    const workerCode = `\n      self.onmessage = function(e) {\n        const { data, patterns } = e.data;\n        const results = {\n          lowValue: findLowValuePatterns(data, patterns.lowValue),\n          stagnation: findStagnationPatterns(data, patterns.stagnation)\n        };\n        self.postMessage(results);\n      };\n    `;\n    const blob = new Blob([workerCode], { type: 'application/javascript' });\n    this.worker = new Worker(URL.createObjectURL(blob));\n    this.worker.onmessage = (e) => {\n      this.handleWorkerResults(e.data);\n    };\n  }\n\n  private setupAccessibility(): void {\n    const svg = this.renderer.getSVGElement();\n    svg.setAttribute('role', 'img');\n    svg.setAttribute('aria-label', this.options.accessibility?.ariaLabel || 'Time series chart');\n    \n    if (this.options.accessibility?.enableKeyboardNavigation) {\n      svg.setAttribute('tabindex', '0');\n      svg.addEventListener('keydown', this.handleKeyboardNavigation.bind(this));\n    }\n  }\n\n  private setupResponsive(): void {\n    this.resizeObserver = new ResizeObserver((entries) => {\n      for (const entry of entries) {\n        if (entry.target === this.container) {\n          this.handleResize();\n        }\n      }\n    });\n    this.resizeObserver.observe(this.container);\n  }\n\n  private getWidth(): number {\n    return this.options.responsive ? \n      this.container.clientWidth : \n      this.options.width!;\n  }\n\n  private getHeight(): number {\n    return this.options.responsive ? \n      this.container.clientHeight : \n      this.options.height!;\n  }\n\n  private processInitialData(data: DataPoint[]): DataPoint[] {\n    let processedData = [...data].sort((a, b) => a.x.valueOf() - b.x.valueOf());\n    \n    if (this.options.performance?.enableVirtualization && \n        processedData.length > (this.options.performance?.clusteringThreshold || 1000)) {\n      processedData = this.clusterData(processedData);\n    }\n    \n    return processedData;\n  }\n\n  private clusterData(data: DataPoint[]): DataPoint[] {\n    const clusterSize = Math.floor(data.length / this.getWidth());\n    if (clusterSize <= 1) return data;\n\n    const clustered: DataPoint[] = [];\n    for (let i = 0; i < data.length; i += clusterSize) {\n      const cluster = data.slice(i, i + clusterSize);\n      const avgX = new Date(\n        cluster.reduce((sum, p) => sum + p.x.valueOf(), 0) / cluster.length\n      );\n      const avgY = cluster.reduce((sum, p) => sum + p.y, 0) / cluster.length;\n      clustered.push({ x: avgX, y: avgY });\n    }\n    return clustered;\n  }\n\n  private handleResize(): void {\n    this.renderer.resize(this.getWidth(), this.getHeight());\n    this.triggerUpdate();\n  }\n\n  private handleKeyboardNavigation(e: KeyboardEvent): void {\n    if (!this.options.accessibility?.enableKeyboardNavigation) return;\n\n    switch (e.key) {\n      case 'ArrowLeft':\n        this.zoom.offset.x -= 10;\n        break;\n      case 'ArrowRight':\n        this.zoom.offset.x += 10;\n        break;\n      case 'ArrowUp':\n        this.zoom.scale *= 1.1;\n        break;\n      case 'ArrowDown':\n        this.zoom.scale /= 1.1;\n        break;\n    }\n    this.triggerUpdate();\n  }\n\n  private handleWorkerResults(results: any): void {\n    // Handle pattern detection results from worker\n    this.drawPatterns(this.calculateValueRange(), this.calculateTimeRange());\n  }\n\n  private setupEventListeners(): void {\n    // Add mouse move listener for hover effects\n    this.container.addEventListener('mousemove', (e: MouseEvent) => {\n      const rect = this.container.getBoundingClientRect();\n      const x = e.clientX - rect.left;\n      const y = e.clientY - rect.top;\n      \n      // Find the closest data point\n      const timeRange = this.calculateTimeRange();\n      const hoveredTime = this.getTimeFromX(x, timeRange);\n      const closestPoint = this.findClosestPoint(hoveredTime);\n      \n      if (closestPoint) {\n        // Format tooltip text with date and value on separate lines\n        const tooltipText = this.options.interaction?.tooltipFormat?.(closestPoint) || \n          `Date: ${closestPoint.x.toLocaleDateString()}, Value: ${closestPoint.y.toFixed(2)}`;\n        \n        this.renderer.showTooltip(tooltipText, e.clientX, e.clientY);\n      }\n    });\n\n    this.container.addEventListener('mouseleave', () => {\n      this.renderer.hideTooltip();\n    });\n\n    // Add resize observer for responsive behavior\n    const resizeObserver = new ResizeObserver(() => {\n      this.triggerUpdate();\n    });\n    resizeObserver.observe(this.container);\n\n    // Setup keyboard navigation\n    this.container.tabIndex = 0;\n    this.container.addEventListener('keydown', this.handleKeyboardNavigation.bind(this));\n  }\n\n  private getTimeFromX(x: number, timeRange: { min: number; max: number }): number {\n    const ratio = x / this.options.width!;\n    return timeRange.min + (timeRange.max - timeRange.min) * ratio;\n  }\n\n  private findClosestPoint(timestamp: number): DataPoint | null {\n    if (!this.data.length) return null;\n\n    let closest = this.data[0];\n    let minDiff = Math.abs(closest.x.valueOf() - timestamp);\n\n    for (const point of this.data) {\n      const diff = Math.abs(point.x.valueOf() - timestamp);\n      if (diff < minDiff) {\n        minDiff = diff;\n        closest = point;\n      }\n    }\n\n    return closest;\n  }\n\n  public setTheme(theme: Partial<Theme>): void {\n    this.options.theme = { ...this.options.theme!, ...theme };\n    this.triggerUpdate();\n  }\n\n  public setPatternOptions(options: Partial<PatternDetectionOptions>): void {\n    if (options.lowValue) {\n      this.lowValueDetector = new LowValueDetector({\n        ...this.options.patterns!.lowValue!,\n        ...options.lowValue\n      });\n    }\n    \n    if (options.stagnation) {\n      this.stagnationDetector = new StagnationDetector({\n        ...this.options.patterns!.stagnation!,\n        ...options.stagnation\n      });\n    }\n    \n    this.options.patterns = {\n      ...this.options.patterns!,\n      ...options\n    };\n    \n    this.triggerUpdate();\n  }\n\n  public addData(point: DataPoint): void {\n    this.data.push(point);\n    this.data.sort((a, b) => a.x.valueOf() - b.x.valueOf());\n    this.triggerUpdate();\n  }\n\n  public removeOldest(): void {\n    if (this.data.length > 0) {\n      this.data.shift();\n      this.triggerUpdate();\n    }\n  }\n\n  public replaceOldest(point: DataPoint): void {\n    if (this.data.length > 0) {\n      this.data[0] = point;\n      this.data.sort((a, b) => a.x.valueOf() - b.x.valueOf());\n      this.triggerUpdate();\n    }\n  }\n\n  private triggerUpdate(): void {\n    if (this.updateTimeout) {\n      window.clearTimeout(this.updateTimeout);\n    }\n    \n    this.isDirty = true;\n    this.updateTimeout = window.setTimeout(() => {\n      this.update();\n      this.updateTimeout = null;\n    }, this.refreshDelay);\n  }\n\n  private update(): void {\n    if (!this.isDirty) return;\n    \n    this.renderer.clear();\n    if (this.data.length === 0) return;\n\n    const { width, height } = this.options;\n    const valueRange = this.calculateValueRange();\n    const timeRange = this.calculateTimeRange();\n    \n    // Draw patterns first\n    this.drawPatterns(valueRange, timeRange);\n    \n    // Then draw bars\n    this.drawBars(valueRange, timeRange);\n    \n    // Draw statistics\n    this.drawStatistics(valueRange);\n    \n    this.isDirty = false;\n  }\n\n  private calculateValueRange(): { min: number; max: number } {\n    const values = this.data.map(d => d.y);\n    return {\n      min: Math.min(...values),\n      max: Math.max(...values)\n    };\n  }\n\n  private calculateTimeRange(): { min: number; max: number } {\n    return {\n      min: this.data[0].x.valueOf(),\n      max: this.data[this.data.length - 1].x.valueOf()\n    };\n  }\n\n  private drawPatterns(valueRange: { min: number; max: number }, timeRange: { min: number; max: number }): void {\n    // Draw low value patterns\n    const lowValuePatterns = this.lowValueDetector.findPatterns(this.data);\n    lowValuePatterns.forEach(pattern => {\n      const startX = this.getXPosition(this.data[pattern.start].x, timeRange);\n      const endX = this.getXPosition(this.data[pattern.end].x, timeRange);\n      this.renderer.drawPattern(\n        startX,\n        0,\n        endX - startX,\n        this.getHeight(),\n        this.options.theme!.lowValueColor,\n        'lowValue'\n      );\n    });\n\n    // Draw stagnation patterns\n    const stagnationPatterns = this.stagnationDetector.findPatterns(this.data);\n    stagnationPatterns.forEach(pattern => {\n      const startX = this.getXPosition(this.data[pattern.start].x, timeRange);\n      const endX = this.getXPosition(this.data[pattern.end].x, timeRange);\n      this.renderer.drawPattern(\n        startX,\n        0,\n        endX - startX,\n        this.getHeight(),\n        this.options.theme!.stagnationColor,\n        'stagnation'\n      );\n    });\n  }\n\n  private drawBars(valueRange: { min: number; max: number }, timeRange: { min: number; max: number }): void {\n    for (let i = 0; i < this.data.length; i++) {\n      const point = this.data[i];\n      const nextPoint = this.data[i + 1];\n      \n      const x = this.getXPosition(point.x, timeRange);\n      const y = this.scaleY(point.y, valueRange);\n      const width = nextPoint \n        ? this.getXPosition(nextPoint.x, timeRange) - x\n        : 10;\n      const height = this.options.height! - y;\n      \n      // Format tooltip text with date and value on the same line\n      const tooltipText = this.options.interaction?.tooltipFormat?.(point) || \n        `Date: ${point.x.toLocaleDateString()}, Value: ${point.y.toFixed(2)}`;\n\n      this.renderer.drawBar(\n        x,\n        y,\n        width,\n        height,\n        this.options.theme!.barColor,\n        {\n          interactive: true,\n          tooltip: tooltipText,\n          highContrast: this.options.accessibility?.highContrast\n        }\n      );\n    }\n  }\n\n  private drawStatistics(valueRange: { min: number; max: number }): void {\n    const values = this.data.map(d => d.y);\n    const mean = calculateMean(values);\n    const median = calculateMedian(values);\n    \n    // Draw mean line\n    this.renderer.drawPattern(\n      0,\n      this.scaleY(mean, valueRange),\n      this.options.width!,\n      1,\n      'rgba(0,0,255,0.5)'\n    );\n    \n    // Draw median line\n    this.renderer.drawPattern(\n      0,\n      this.scaleY(median, valueRange),\n      this.options.width!,\n      1,\n      'rgba(0,255,0,0.5)'\n    );\n  }\n\n  private getXPosition(x: Date, range: { min: number; max: number }): number {\n    return ((x.valueOf() - range.min) / (range.max - range.min)) * this.options.width!;\n  }\n\n  private scaleY(y: number, range: { min: number; max: number }): number {\n    return this.options.height! - ((y - range.min) / (range.max - range.min)) * this.options.height!;\n  }\n\n  // Public API methods for statistics\n  public getStatistics() {\n    const values = this.data.map(d => d.y);\n    return {\n      mean: calculateMean(values),\n      median: calculateMedian(values),\n      movingAverage: calculateMovingAverage(values, 5)\n    };\n  }\n\n  // Export methods\n  public exportToCSV(): string {\n    const headers = ['Date', 'Value'];\n    const rows = this.data.map(point => [\n      point.x.toISOString(),\n      point.y.toString()\n    ]);\n    \n    return [headers, ...rows]\n      .map(row => row.join(','))\n      .join('\\n');\n  }\n\n  public exportToSVG(): string {\n    return this.renderer.getSVGElement().outerHTML;\n  }\n}\n"],"names":[],"mappings":"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"}