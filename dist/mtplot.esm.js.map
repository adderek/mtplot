{"version":3,"file":"mtplot.esm.js","sources":["../src/renderers/SVGRenderer.ts","../src/patterns/LowValueDetector.ts","../src/patterns/StagnationDetector.ts","../src/utils/Statistics.ts","../src/utils/DateUtils.ts","../src/MTPlot.ts"],"sourcesContent":["import { TextOptions } from '../types';\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\n\ninterface SVGRendererOptions {\n  highContrast?: boolean;\n  interactive?: boolean;\n  tooltip?: string;\n}\n\nexport class SVGRenderer {\n  private svg: SVGSVGElement;\n  private defs: SVGDefsElement;\n  private mainGroup: SVGGElement;\n  private width: number;\n  private height: number;\n  private tooltip: SVGTextElement;\n  private tooltipBackground: SVGRectElement;\n\n  constructor(container: HTMLElement, width: number, height: number) {\n    this.width = width;\n    this.height = height;\n    this.svg = document.createElementNS(SVG_NS, 'svg');\n    this.svg.setAttribute('width', width.toString());\n    this.svg.setAttribute('height', height.toString());\n    this.svg.setAttribute('class', 'mtplot-svg');\n    \n    // Create defs for gradients and patterns\n    this.defs = document.createElementNS(SVG_NS, 'defs');\n    this.svg.appendChild(this.defs);\n    \n    // Create main group for transformation\n    this.mainGroup = document.createElementNS(SVG_NS, 'g');\n    this.svg.appendChild(this.mainGroup);\n\n    // Create tooltip elements\n    this.tooltipBackground = document.createElementNS(SVG_NS, 'rect');\n    this.tooltipBackground.setAttribute('class', 'mtplot-tooltip-bg');\n    this.tooltipBackground.setAttribute('rx', '4');\n    this.tooltipBackground.setAttribute('ry', '4');\n    this.tooltipBackground.setAttribute('fill', 'white');\n    this.tooltipBackground.setAttribute('stroke', '#ccc');\n    this.tooltipBackground.style.display = 'none';\n    \n    this.tooltip = document.createElementNS(SVG_NS, 'text');\n    this.tooltip.setAttribute('class', 'mtplot-tooltip');\n    this.tooltip.style.display = 'none';\n    \n    this.svg.appendChild(this.tooltipBackground);\n    this.svg.appendChild(this.tooltip);\n    \n    this.setupSVG(container, width, height);\n    \n    // Setup pan and zoom handling\n    this.setupInteraction();\n  }\n\n  private setupSVG(container: HTMLElement, width: number, height: number): void {\n    const attributes = [\n      ['version', '1.1'],\n      ['viewBox', `0 0 ${width} ${height}`],\n      ['preserveAspectRatio', 'none'],\n      ['style', 'width: 100%; height: 100%;']\n    ];\n\n    attributes.forEach(([name, value]) => {\n      this.svg.setAttribute(name, value);\n    });\n\n    container.appendChild(this.svg);\n  }\n\n  private setupInteraction(): void {\n    let isPanning = false;\n    let startX = 0;\n    let startY = 0;\n    let currentTransform = { x: 0, y: 0, scale: 1 };\n\n    this.svg.addEventListener('mousedown', (e: MouseEvent) => {\n      isPanning = true;\n      startX = e.clientX;\n      startY = e.clientY;\n    });\n\n    this.svg.addEventListener('mousemove', (e: MouseEvent) => {\n      if (!isPanning) return;\n      const dx = e.clientX - startX;\n      const dy = e.clientY - startY;\n      currentTransform.x += dx;\n      currentTransform.y += dy;\n      startX = e.clientX;\n      startY = e.clientY;\n      this.updateTransform(currentTransform);\n    });\n\n    this.svg.addEventListener('mouseup', () => {\n      isPanning = false;\n    });\n\n    this.svg.addEventListener('wheel', (e: WheelEvent) => {\n      e.preventDefault();\n      const scaleFactor = e.deltaY > 0 ? 0.9 : 1.1;\n      currentTransform.scale *= scaleFactor;\n      this.updateTransform(currentTransform);\n    });\n  }\n\n  private updateTransform(transform: { x: number; y: number; scale: number }): void {\n    this.mainGroup.setAttribute(\n      'transform',\n      `translate(${transform.x},${transform.y}) scale(${transform.scale})`\n    );\n  }\n\n  public resize(width: number, height: number): void {\n    this.width = width;\n    this.height = height;\n    this.svg.setAttribute('width', width.toString());\n    this.svg.setAttribute('height', height.toString());\n    this.svg.setAttribute('viewBox', `0 0 ${width} ${height}`);\n  }\n\n  public clear(): void {\n    while (this.mainGroup.firstChild) {\n      this.mainGroup.removeChild(this.mainGroup.firstChild);\n    }\n  }\n\n  public drawBar(\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    color: string,\n    options: SVGRendererOptions = {}\n  ): void {\n    const rect = document.createElementNS(SVG_NS, 'rect');\n    rect.setAttribute('x', x.toString());\n    rect.setAttribute('y', y.toString());\n    rect.setAttribute('width', width.toString());\n    rect.setAttribute('height', height.toString());\n    \n    if (options.highContrast) {\n      rect.setAttribute('fill', this.getHighContrastColor(color));\n      rect.setAttribute('stroke', 'black');\n      rect.setAttribute('stroke-width', '2');\n    } else {\n      rect.setAttribute('fill', color);\n    }\n\n    if (options.interactive) {\n      rect.setAttribute('data-tooltip', options.tooltip || '');\n      rect.style.cursor = 'pointer';\n      this.setupBarInteraction(rect);\n    }\n\n    this.mainGroup.appendChild(rect);\n  }\n\n  private getHighContrastColor(color: string): string {\n    // Convert to high contrast version of the color\n    const rgb = this.hexToRgb(color);\n    if (!rgb) return color;\n    \n    const brightness = (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    return brightness > 128 ? '#000000' : '#FFFFFF';\n  }\n\n  private hexToRgb(hex: string): { r: number; g: number; b: number } | null {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    } : null;\n  }\n\n  private setupBarInteraction(element: SVGElement): void {\n    element.addEventListener('mouseenter', (e: MouseEvent) => {\n      const tooltip = element.getAttribute('data-tooltip');\n      if (tooltip) {\n        this.showTooltip(tooltip, e.clientX, e.clientY);\n      }\n    });\n\n    element.addEventListener('mouseleave', () => {\n      this.hideTooltip();\n    });\n  }\n\n  public showTooltip(text: string, x: number, y: number): void {\n    // Join text lines with a space\n    const combinedText = text.split('\\n').join(' ');\n    \n    // Clear previous tooltip content\n    while (this.tooltip.firstChild) {\n      this.tooltip.removeChild(this.tooltip.firstChild);\n    }\n    \n    // Add single tspan element with combined text\n    const tspan = document.createElementNS(SVG_NS, 'tspan');\n    tspan.textContent = combinedText;\n    tspan.setAttribute('x', '0');\n    this.tooltip.appendChild(tspan);\n    \n    // Calculate tooltip dimensions\n    const bbox = this.tooltip.getBBox();\n    const padding = 8;\n    const tooltipWidth = bbox.width + 2 * padding;\n    const tooltipHeight = bbox.height + 2 * padding;\n    \n    // Position the text vertically centered with padding\n    tspan.setAttribute('y', (padding + bbox.height).toString());\n    \n    // Calculate position that keeps tooltip within bounds\n    let tooltipX = x + 10; // Default offset from cursor\n    let tooltipY = y - tooltipHeight - 10; // Default position above cursor\n    \n    // Adjust horizontal position if tooltip would go outside right edge\n    if (tooltipX + tooltipWidth > this.width) {\n      tooltipX = x - tooltipWidth - 10; // Place tooltip to the left of cursor\n    }\n    \n    // Adjust vertical position if tooltip would go outside top edge\n    if (tooltipY < 0) {\n      tooltipY = y + 20; // Place tooltip below cursor\n    }\n    \n    // Ensure tooltip doesn't go outside left or bottom edges\n    tooltipX = Math.max(5, Math.min(this.width - tooltipWidth - 5, tooltipX));\n    tooltipY = Math.max(5, Math.min(this.height - tooltipHeight - 5, tooltipY));\n    \n    // Position the tooltip and background\n    this.tooltip.setAttribute('transform', `translate(${tooltipX}, ${tooltipY})`);\n    this.tooltipBackground.setAttribute('x', tooltipX.toString());\n    this.tooltipBackground.setAttribute('y', tooltipY.toString());\n    this.tooltipBackground.setAttribute('width', tooltipWidth.toString());\n    this.tooltipBackground.setAttribute('height', tooltipHeight.toString());\n    \n    // Show the tooltip\n    this.tooltipBackground.style.display = '';\n    this.tooltip.style.display = '';\n  }\n\n  public hideTooltip(): void {\n    this.tooltipBackground.style.display = 'none';\n    this.tooltip.style.display = 'none';\n  }\n\n  public drawPattern(\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    color: string,\n    patternType?: string\n  ): void {\n    const pattern = document.createElementNS(SVG_NS, 'rect');\n    pattern.setAttribute('x', x.toString());\n    pattern.setAttribute('y', y.toString());\n    pattern.setAttribute('width', width.toString());\n    pattern.setAttribute('height', height.toString());\n    pattern.setAttribute('fill', color);\n    pattern.setAttribute('fill-opacity', '0.3');\n    \n    // Add pattern-specific styling\n    if (patternType) {\n      switch (patternType) {\n        case 'lowValue':\n          pattern.setAttribute('stroke', 'red');\n          pattern.setAttribute('stroke-dasharray', '4,4');\n          break;\n        case 'stagnation':\n          pattern.setAttribute('stroke', 'orange');\n          pattern.setAttribute('stroke-width', '2');\n          break;\n      }\n    }\n\n    this.mainGroup.appendChild(pattern);\n  }\n\n  public drawText(x: number, y: number, text: string, options: TextOptions = {}): void {\n    const textElem = document.createElementNS(SVG_NS, 'text');\n    const attrs = [\n      ['x', x.toString()],\n      ['y', y.toString()],\n      ['fill', options.color || 'black'],\n      ['font-family', options.fontFamily || 'monospace'],\n      ['font-size', (options.fontSize || 12).toString()]\n    ];\n\n    if (options.stroke) {\n      attrs.push(['stroke', options.stroke]);\n      attrs.push(['stroke-width', (options.strokeWidth || 1).toString()]);\n    }\n\n    attrs.forEach(([name, value]) => textElem.setAttribute(name, value));\n    textElem.textContent = text;\n    this.mainGroup.appendChild(textElem);\n  }\n\n  public getSVGElement(): SVGSVGElement {\n    return this.svg;\n  }\n}\n","import { DataPoint, LowValueOptions } from '../types';\n\nexport class LowValueDetector {\n  private threshold: number;\n  private consecutiveDays: number;\n\n  constructor(options: LowValueOptions) {\n    this.threshold = options.threshold;\n    this.consecutiveDays = options.consecutiveDays;\n  }\n\n  findPatterns(data: DataPoint[]): { start: number; end: number }[] {\n    if (data.length < this.consecutiveDays) return [];\n\n    const patterns: { start: number; end: number }[] = [];\n    const valueRange = this.calculateValueRange(data);\n    const lowThreshold = Math.min(...data.map(d => d.y)) + (valueRange * this.threshold);\n\n    let currentSequence: number[] = [];\n\n    data.forEach((point, index) => {\n      if (point.y <= lowThreshold) {\n        currentSequence.push(index);\n      } else {\n        if (this.isValidSequence(currentSequence, data)) {\n          patterns.push({\n            start: currentSequence[0],\n            end: currentSequence[currentSequence.length - 1]\n          });\n        }\n        currentSequence = [];\n      }\n    });\n\n    // Check last sequence\n    if (this.isValidSequence(currentSequence, data)) {\n      patterns.push({\n        start: currentSequence[0],\n        end: currentSequence[currentSequence.length - 1]\n      });\n    }\n\n    return patterns;\n  }\n\n  private calculateValueRange(data: DataPoint[]): number {\n    const values = data.map(d => d.y);\n    return Math.max(...values) - Math.min(...values);\n  }\n\n  private isValidSequence(sequence: number[], data: DataPoint[]): boolean {\n    if (sequence.length < this.consecutiveDays) return false;\n\n    // Check if points are consecutive days\n    for (let i = 1; i < sequence.length; i++) {\n      const daysDiff = (data[sequence[i]].x.valueOf() - data[sequence[i-1]].x.valueOf()) / (24 * 60 * 60 * 1000);\n      if (daysDiff > 1.1) return false; // Allow small tolerance\n    }\n\n    return true;\n  }\n}\n","import { DataPoint, StagnationOptions } from '../types';\n\nexport class StagnationDetector {\n  private consecutiveDays: number;\n  private changeThreshold: number;\n  private activeChangePercentage: number;\n\n  constructor(options: StagnationOptions) {\n    this.consecutiveDays = options.consecutiveDays;\n    this.changeThreshold = options.changeThreshold;\n    this.activeChangePercentage = options.activeChangePercentage;\n  }\n\n  findPatterns(data: DataPoint[]): { start: number; end: number }[] {\n    if (data.length < this.consecutiveDays) return [];\n\n    const patterns: { start: number; end: number }[] = [];\n    const avgDailyChange = this.calculateAverageChange(data);\n    \n    if (!this.hasEnoughActiveChanges(data, avgDailyChange)) {\n      return [];\n    }\n\n    let currentSequence: number[] = [];\n    const significantChangeThreshold = avgDailyChange * this.changeThreshold;\n\n    data.forEach((point, index) => {\n      currentSequence.push(index);\n\n      if (index === data.length - 1 || \n          Math.abs(data[index + 1].y - point.y) > significantChangeThreshold) {\n        if (this.isStagnationPeriod(currentSequence, data, significantChangeThreshold)) {\n          patterns.push({\n            start: currentSequence[0],\n            end: currentSequence[currentSequence.length - 1]\n          });\n        }\n        currentSequence = [];\n      }\n    });\n\n    return patterns;\n  }\n\n  private calculateAverageChange(data: DataPoint[]): number {\n    if (data.length < 2) return 0;\n\n    let totalChange = 0;\n    let changes = 0;\n\n    for (let i = 1; i < data.length; i++) {\n      const change = Math.abs(data[i].y - data[i-1].y);\n      if (change > 0) {\n        totalChange += change;\n        changes++;\n      }\n    }\n\n    return changes > 0 ? totalChange / changes : 0;\n  }\n\n  private hasEnoughActiveChanges(data: DataPoint[], avgDailyChange: number): boolean {\n    if (data.length < 2) return false;\n\n    let significantChanges = 0;\n    const significantChangeThreshold = avgDailyChange * this.changeThreshold;\n\n    for (let i = 1; i < data.length; i++) {\n      const change = Math.abs(data[i].y - data[i-1].y);\n      if (change > significantChangeThreshold) {\n        significantChanges++;\n      }\n    }\n\n    return (significantChanges / (data.length - 1)) >= this.activeChangePercentage;\n  }\n\n  private isStagnationPeriod(\n    sequence: number[], \n    data: DataPoint[], \n    significantChangeThreshold: number\n  ): boolean {\n    if (sequence.length < this.consecutiveDays) return false;\n\n    // Check if points are consecutive days\n    for (let i = 1; i < sequence.length; i++) {\n      const daysDiff = (data[sequence[i]].x.valueOf() - data[sequence[i-1]].x.valueOf()) / (24 * 60 * 60 * 1000);\n      if (daysDiff > 1.1) return false;\n    }\n\n    // Check if changes are below threshold\n    for (let i = 1; i < sequence.length; i++) {\n      const change = Math.abs(data[sequence[i]].y - data[sequence[i-1]].y);\n      if (change > significantChangeThreshold) return false;\n    }\n\n    return true;\n  }\n}\n","export function calculateMean(values: number[]): number {\n  if (values.length === 0) return 0;\n  return values.reduce((sum, val) => sum + val, 0) / values.length;\n}\n\nexport function calculateMedian(values: number[]): number {\n  if (values.length === 0) return 0;\n  \n  const sorted = [...values].sort((a, b) => a - b);\n  const middle = Math.floor(sorted.length / 2);\n  \n  if (sorted.length % 2 === 0) {\n    return (sorted[middle - 1] + sorted[middle]) / 2;\n  }\n  return sorted[middle];\n}\n\nexport function calculateStandardDeviation(values: number[]): number {\n  if (values.length < 2) return 0;\n  \n  const mean = calculateMean(values);\n  const squaredDiffs = values.map(val => Math.pow(val - mean, 2));\n  const variance = calculateMean(squaredDiffs);\n  \n  return Math.sqrt(variance);\n}\n\nexport function calculatePercentile(values: number[], percentile: number): number {\n  if (values.length === 0) return 0;\n  if (percentile < 0 || percentile > 100) throw new Error('Percentile must be between 0 and 100');\n  \n  const sorted = [...values].sort((a, b) => a - b);\n  const index = (percentile / 100) * (sorted.length - 1);\n  const lower = Math.floor(index);\n  const upper = Math.ceil(index);\n  \n  if (lower === upper) return sorted[lower];\n  \n  const fraction = index - lower;\n  return sorted[lower] * (1 - fraction) + sorted[upper] * fraction;\n}\n\nexport function calculateMovingAverage(values: number[], window: number): number[] {\n  if (window < 1 || window > values.length) return values;\n  \n  const result: number[] = [];\n  for (let i = 0; i < values.length - window + 1; i++) {\n    const windowValues = values.slice(i, i + window);\n    result.push(calculateMean(windowValues));\n  }\n  \n  return result;\n}\n","export function isConsecutiveDays(date1: Date, date2: Date, tolerance: number = 1.1): boolean {\n  const daysDiff = (date2.valueOf() - date1.valueOf()) / (24 * 60 * 60 * 1000);\n  return daysDiff <= tolerance;\n}\n\nexport function formatDate(date: Date): string {\n  return date.toISOString();\n}\n\nexport function getDateRange(dates: Date[]): { min: Date; max: Date } {\n  return {\n    min: new Date(Math.min(...dates.map(d => d.valueOf()))),\n    max: new Date(Math.max(...dates.map(d => d.valueOf())))\n  };\n}\n","import { SVGRenderer } from './renderers/SVGRenderer';\nimport { LowValueDetector } from './patterns/LowValueDetector';\nimport { StagnationDetector } from './patterns/StagnationDetector';\nimport { DataPoint, PlotOptions, Theme, PatternDetectionOptions } from './types';\nimport { calculateMean, calculateMedian, calculateMovingAverage } from './utils/Statistics';\nimport { formatDate } from './utils/DateUtils';\n\nconst DEFAULT_THEME: Theme = {\n  barColor: 'black',\n  barHoverColor: 'blue',\n  lowValueColor: 'rgba(255,0,0,0.2)',\n  stagnationColor: 'rgba(255,165,0,0.2)',\n  backgroundColor: 'white',\n  textColor: 'black',\n  fontFamily: 'monospace',\n  fontSize: 12\n};\n\nconst DEFAULT_OPTIONS: PlotOptions = {\n  width: 800,\n  height: 400,\n  theme: DEFAULT_THEME,\n  patterns: {\n    lowValue: {\n      threshold: 0.02,\n      consecutiveDays: 2\n    },\n    stagnation: {\n      consecutiveDays: 3,\n      changeThreshold: 0.2,\n      activeChangePercentage: 0.85\n    }\n  },\n  responsive: true,\n  accessibility: {\n    enableKeyboardNavigation: true,\n    enableScreenReader: true,\n    highContrast: false,\n    ariaLabel: 'Time series chart'\n  },\n  interaction: {\n    enableZoom: true,\n    enablePan: true,\n    tooltipFormat: (point: DataPoint) => `${formatDate(point.x)}: ${point.y}`,\n    onPointClick: undefined\n  },\n  performance: {\n    enableVirtualization: true,\n    clusteringThreshold: 1000,\n    useWebWorker: true\n  }\n};\n\nexport class MTPlot {\n  private container: HTMLElement;\n  private renderer: SVGRenderer;\n  private options: PlotOptions;\n  private data: DataPoint[];\n  private lowValueDetector: LowValueDetector;\n  private stagnationDetector: StagnationDetector;\n  private isDirty: boolean = false;\n  private updateTimeout: number | null = null;\n  private refreshDelay: number = 100;\n  private resizeObserver: ResizeObserver | null = null;\n  private tooltip: HTMLDivElement | null = null;\n  private worker: Worker | null = null;\n  private zoom: { scale: number; offset: { x: number; y: number } } = {\n    scale: 1,\n    offset: { x: 0, y: 0 }\n  };\n\n  constructor(containerId: string, initialData: DataPoint[] = [], options: Partial<PlotOptions> = {}) {\n    const container = document.getElementById(containerId);\n    if (!container) throw new Error(`No element found with id: ${containerId}`);\n    \n    this.container = container;\n    this.options = { ...DEFAULT_OPTIONS, ...options };\n    \n    // Initialize tooltip\n    this.setupTooltip();\n    \n    // Initialize WebWorker if enabled\n    if (this.options.performance?.useWebWorker) {\n      this.setupWebWorker();\n    }\n    \n    // Initialize renderer with responsive support\n    this.renderer = new SVGRenderer(\n      container,\n      this.getWidth(),\n      this.getHeight()\n    );\n\n    // Set up accessibility\n    if (this.options.accessibility?.enableScreenReader) {\n      this.setupAccessibility();\n    }\n\n    // Initialize data with sorting and clustering if needed\n    this.data = this.processInitialData(initialData);\n    \n    this.lowValueDetector = new LowValueDetector(this.options.patterns!.lowValue!);\n    this.stagnationDetector = new StagnationDetector(this.options.patterns!.stagnation!);\n\n    // Set up event listeners\n    this.setupEventListeners();\n    \n    // Set up responsive handling\n    if (this.options.responsive) {\n      this.setupResponsive();\n    }\n\n    this.update();\n  }\n\n  private setupTooltip(): void {\n    this.tooltip = document.createElement('div');\n    this.tooltip.style.cssText = `\n      position: absolute;\n      display: none;\n      background: white;\n      border: 1px solid #ccc;\n      padding: 8px;\n      border-radius: 4px;\n      pointer-events: none;\n      z-index: 1000;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    `;\n    document.body.appendChild(this.tooltip);\n  }\n\n  private setupWebWorker(): void {\n    const workerCode = `\n      self.onmessage = function(e) {\n        const { data, patterns } = e.data;\n        const results = {\n          lowValue: findLowValuePatterns(data, patterns.lowValue),\n          stagnation: findStagnationPatterns(data, patterns.stagnation)\n        };\n        self.postMessage(results);\n      };\n    `;\n    const blob = new Blob([workerCode], { type: 'application/javascript' });\n    this.worker = new Worker(URL.createObjectURL(blob));\n    this.worker.onmessage = (e) => {\n      this.handleWorkerResults(e.data);\n    };\n  }\n\n  private setupAccessibility(): void {\n    const svg = this.renderer.getSVGElement();\n    svg.setAttribute('role', 'img');\n    svg.setAttribute('aria-label', this.options.accessibility?.ariaLabel || 'Time series chart');\n    \n    if (this.options.accessibility?.enableKeyboardNavigation) {\n      svg.setAttribute('tabindex', '0');\n      svg.addEventListener('keydown', this.handleKeyboardNavigation.bind(this));\n    }\n  }\n\n  private setupResponsive(): void {\n    this.resizeObserver = new ResizeObserver((entries) => {\n      for (const entry of entries) {\n        if (entry.target === this.container) {\n          this.handleResize();\n        }\n      }\n    });\n    this.resizeObserver.observe(this.container);\n  }\n\n  private getWidth(): number {\n    return this.options.responsive ? \n      this.container.clientWidth : \n      this.options.width!;\n  }\n\n  private getHeight(): number {\n    return this.options.responsive ? \n      this.container.clientHeight : \n      this.options.height!;\n  }\n\n  private processInitialData(data: DataPoint[]): DataPoint[] {\n    let processedData = [...data].sort((a, b) => a.x.valueOf() - b.x.valueOf());\n    \n    if (this.options.performance?.enableVirtualization && \n        processedData.length > (this.options.performance?.clusteringThreshold || 1000)) {\n      processedData = this.clusterData(processedData);\n    }\n    \n    return processedData;\n  }\n\n  private clusterData(data: DataPoint[]): DataPoint[] {\n    const clusterSize = Math.floor(data.length / this.getWidth());\n    if (clusterSize <= 1) return data;\n\n    const clustered: DataPoint[] = [];\n    for (let i = 0; i < data.length; i += clusterSize) {\n      const cluster = data.slice(i, i + clusterSize);\n      const avgX = new Date(\n        cluster.reduce((sum, p) => sum + p.x.valueOf(), 0) / cluster.length\n      );\n      const avgY = cluster.reduce((sum, p) => sum + p.y, 0) / cluster.length;\n      clustered.push({ x: avgX, y: avgY });\n    }\n    return clustered;\n  }\n\n  private handleResize(): void {\n    this.renderer.resize(this.getWidth(), this.getHeight());\n    this.triggerUpdate();\n  }\n\n  private handleKeyboardNavigation(e: KeyboardEvent): void {\n    if (!this.options.accessibility?.enableKeyboardNavigation) return;\n\n    switch (e.key) {\n      case 'ArrowLeft':\n        this.zoom.offset.x -= 10;\n        break;\n      case 'ArrowRight':\n        this.zoom.offset.x += 10;\n        break;\n      case 'ArrowUp':\n        this.zoom.scale *= 1.1;\n        break;\n      case 'ArrowDown':\n        this.zoom.scale /= 1.1;\n        break;\n    }\n    this.triggerUpdate();\n  }\n\n  private handleWorkerResults(results: any): void {\n    // Handle pattern detection results from worker\n    this.drawPatterns(this.calculateValueRange(), this.calculateTimeRange());\n  }\n\n  private setupEventListeners(): void {\n    // Add mouse move listener for hover effects\n    this.container.addEventListener('mousemove', (e: MouseEvent) => {\n      const rect = this.container.getBoundingClientRect();\n      const x = e.clientX - rect.left;\n      const y = e.clientY - rect.top;\n      \n      // Find the closest data point\n      const timeRange = this.calculateTimeRange();\n      const hoveredTime = this.getTimeFromX(x, timeRange);\n      const closestPoint = this.findClosestPoint(hoveredTime);\n      \n      if (closestPoint) {\n        // Format tooltip text with date and value on separate lines\n        const tooltipText = this.options.interaction?.tooltipFormat?.(closestPoint) || \n          `Date: ${closestPoint.x.toLocaleDateString()}, Value: ${closestPoint.y.toFixed(2)}`;\n        \n        this.renderer.showTooltip(tooltipText, e.clientX, e.clientY);\n      }\n    });\n\n    this.container.addEventListener('mouseleave', () => {\n      this.renderer.hideTooltip();\n    });\n\n    // Add resize observer for responsive behavior\n    const resizeObserver = new ResizeObserver(() => {\n      this.triggerUpdate();\n    });\n    resizeObserver.observe(this.container);\n\n    // Setup keyboard navigation\n    this.container.tabIndex = 0;\n    this.container.addEventListener('keydown', this.handleKeyboardNavigation.bind(this));\n  }\n\n  private getTimeFromX(x: number, timeRange: { min: number; max: number }): number {\n    const ratio = x / this.options.width!;\n    return timeRange.min + (timeRange.max - timeRange.min) * ratio;\n  }\n\n  private findClosestPoint(timestamp: number): DataPoint | null {\n    if (!this.data.length) return null;\n\n    let closest = this.data[0];\n    let minDiff = Math.abs(closest.x.valueOf() - timestamp);\n\n    for (const point of this.data) {\n      const diff = Math.abs(point.x.valueOf() - timestamp);\n      if (diff < minDiff) {\n        minDiff = diff;\n        closest = point;\n      }\n    }\n\n    return closest;\n  }\n\n  public setTheme(theme: Partial<Theme>): void {\n    this.options.theme = { ...this.options.theme!, ...theme };\n    this.triggerUpdate();\n  }\n\n  public setPatternOptions(options: Partial<PatternDetectionOptions>): void {\n    if (options.lowValue) {\n      this.lowValueDetector = new LowValueDetector({\n        ...this.options.patterns!.lowValue!,\n        ...options.lowValue\n      });\n    }\n    \n    if (options.stagnation) {\n      this.stagnationDetector = new StagnationDetector({\n        ...this.options.patterns!.stagnation!,\n        ...options.stagnation\n      });\n    }\n    \n    this.options.patterns = {\n      ...this.options.patterns!,\n      ...options\n    };\n    \n    this.triggerUpdate();\n  }\n\n  public addData(point: DataPoint): void {\n    this.data.push(point);\n    this.data.sort((a, b) => a.x.valueOf() - b.x.valueOf());\n    this.triggerUpdate();\n  }\n\n  public removeOldest(): void {\n    if (this.data.length > 0) {\n      this.data.shift();\n      this.triggerUpdate();\n    }\n  }\n\n  public replaceOldest(point: DataPoint): void {\n    if (this.data.length > 0) {\n      this.data[0] = point;\n      this.data.sort((a, b) => a.x.valueOf() - b.x.valueOf());\n      this.triggerUpdate();\n    }\n  }\n\n  private triggerUpdate(): void {\n    if (this.updateTimeout) {\n      window.clearTimeout(this.updateTimeout);\n    }\n    \n    this.isDirty = true;\n    this.updateTimeout = window.setTimeout(() => {\n      this.update();\n      this.updateTimeout = null;\n    }, this.refreshDelay);\n  }\n\n  private update(): void {\n    if (!this.isDirty) return;\n    \n    this.renderer.clear();\n    if (this.data.length === 0) return;\n\n    const { width, height } = this.options;\n    const valueRange = this.calculateValueRange();\n    const timeRange = this.calculateTimeRange();\n    \n    // Draw patterns first\n    this.drawPatterns(valueRange, timeRange);\n    \n    // Then draw bars\n    this.drawBars(valueRange, timeRange);\n    \n    // Draw statistics\n    this.drawStatistics(valueRange);\n    \n    this.isDirty = false;\n  }\n\n  private calculateValueRange(): { min: number; max: number } {\n    const values = this.data.map(d => d.y);\n    return {\n      min: Math.min(...values),\n      max: Math.max(...values)\n    };\n  }\n\n  private calculateTimeRange(): { min: number; max: number } {\n    return {\n      min: this.data[0].x.valueOf(),\n      max: this.data[this.data.length - 1].x.valueOf()\n    };\n  }\n\n  private drawPatterns(valueRange: { min: number; max: number }, timeRange: { min: number; max: number }): void {\n    // Draw low value patterns\n    const lowValuePatterns = this.lowValueDetector.findPatterns(this.data);\n    lowValuePatterns.forEach(pattern => {\n      const startX = this.getXPosition(this.data[pattern.start].x, timeRange);\n      const endX = this.getXPosition(this.data[pattern.end].x, timeRange);\n      this.renderer.drawPattern(\n        startX,\n        0,\n        endX - startX,\n        this.getHeight(),\n        this.options.theme!.lowValueColor,\n        'lowValue'\n      );\n    });\n\n    // Draw stagnation patterns\n    const stagnationPatterns = this.stagnationDetector.findPatterns(this.data);\n    stagnationPatterns.forEach(pattern => {\n      const startX = this.getXPosition(this.data[pattern.start].x, timeRange);\n      const endX = this.getXPosition(this.data[pattern.end].x, timeRange);\n      this.renderer.drawPattern(\n        startX,\n        0,\n        endX - startX,\n        this.getHeight(),\n        this.options.theme!.stagnationColor,\n        'stagnation'\n      );\n    });\n  }\n\n  private drawBars(valueRange: { min: number; max: number }, timeRange: { min: number; max: number }): void {\n    for (let i = 0; i < this.data.length; i++) {\n      const point = this.data[i];\n      const nextPoint = this.data[i + 1];\n      \n      const x = this.getXPosition(point.x, timeRange);\n      const y = this.scaleY(point.y, valueRange);\n      const width = nextPoint \n        ? this.getXPosition(nextPoint.x, timeRange) - x\n        : 10;\n      const height = this.options.height! - y;\n      \n      // Format tooltip text with date and value on the same line\n      const tooltipText = this.options.interaction?.tooltipFormat?.(point) || \n        `Date: ${point.x.toLocaleDateString()}, Value: ${point.y.toFixed(2)}`;\n\n      this.renderer.drawBar(\n        x,\n        y,\n        width,\n        height,\n        this.options.theme!.barColor,\n        {\n          interactive: true,\n          tooltip: tooltipText,\n          highContrast: this.options.accessibility?.highContrast\n        }\n      );\n    }\n  }\n\n  private drawStatistics(valueRange: { min: number; max: number }): void {\n    const values = this.data.map(d => d.y);\n    const mean = calculateMean(values);\n    const median = calculateMedian(values);\n    \n    // Draw mean line\n    this.renderer.drawPattern(\n      0,\n      this.scaleY(mean, valueRange),\n      this.options.width!,\n      1,\n      'rgba(0,0,255,0.5)'\n    );\n    \n    // Draw median line\n    this.renderer.drawPattern(\n      0,\n      this.scaleY(median, valueRange),\n      this.options.width!,\n      1,\n      'rgba(0,255,0,0.5)'\n    );\n  }\n\n  private getXPosition(x: Date, range: { min: number; max: number }): number {\n    return ((x.valueOf() - range.min) / (range.max - range.min)) * this.options.width!;\n  }\n\n  private scaleY(y: number, range: { min: number; max: number }): number {\n    return this.options.height! - ((y - range.min) / (range.max - range.min)) * this.options.height!;\n  }\n\n  // Public API methods for statistics\n  public getStatistics() {\n    const values = this.data.map(d => d.y);\n    return {\n      mean: calculateMean(values),\n      median: calculateMedian(values),\n      movingAverage: calculateMovingAverage(values, 5)\n    };\n  }\n\n  // Export methods\n  public exportToCSV(): string {\n    const headers = ['Date', 'Value'];\n    const rows = this.data.map(point => [\n      point.x.toISOString(),\n      point.y.toString()\n    ]);\n    \n    return [headers, ...rows]\n      .map(row => row.join(','))\n      .join('\\n');\n  }\n\n  public exportToSVG(): string {\n    return this.renderer.getSVGElement().outerHTML;\n  }\n}\n"],"names":[],"mappings":"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"}